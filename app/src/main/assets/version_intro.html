<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>更新日志</title>
    <link rel="preconnect" href="https://fonts.loli.net">
    <!-- 使用国内可访问的 CDN 加载 Noto Sans SC 字体 -->
    <link href="https://fonts.loli.net/css?family=Noto+Sans+SC:400,600&display=swap" rel="stylesheet">
    <style>
        :root {
          --primary-color: #4a90e2;
          --secondary-color: #fff;
          --bg-color: #f0f4f8;
          --card-bg: #ffffff;
          --card-shadow: rgba(0, 0, 0, 0.1);
        }
        * {
          box-sizing: border-box;
        }
        body {
          font-family: 'Noto Sans SC', sans-serif;
          margin: 0;
          padding: 20px;
          background: linear-gradient(135deg, #e0f7fa, #f0f4f8);
          color: #333;
          line-height: 1.6;
        }
        h1 {
          text-align: center;
          margin-bottom: 40px;
          font-weight: 600;
          color: var(--primary-color);
        }
        #logs {
          max-width: 800px;
          margin: 0 auto;
        }
        .version-block {
          background: var(--card-bg);
          border-radius: 8px;
          box-shadow: 0 4px 8px var(--card-shadow);
          padding: 20px;
          margin-bottom: 20px;
          transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .version-block:hover {
          transform: translateY(-5px);
          box-shadow: 0 8px 16px var(--card-shadow);
        }
        .version-title {
          font-size: 22px;
          font-weight: 600;
          color: var(--primary-color);
          margin-bottom: 12px;
          border-bottom: 2px solid var(--primary-color);
          display: inline-block;
          padding-bottom: 4px;
        }
        .log-list {
          margin: 0;
          padding-left: 20px;
        }
        .log-list li {
          margin-bottom: 8px;
          list-style-type: disc;
        }
    </style>
</head>
<body>
<h1>更新日志</h1>
<div id="logs"></div>

<!-- 将日志数据以 JSON 格式嵌入 -->
<script id="json-data" type="application/json">
    {
        "logs": [
            {
                "version": "1.8.2.1",
                "changes": [
                    "更新 应用列表",
                    "禁用 小程序启动"
                ]
            },
            {
                "version": "1.8.2.0",
                "changes": [
                    "兼容 Android Api 33 34",
                    "修复 长时间未登录启动闪退问题",
                    "优化 部分代码逻辑"
                ]
            },
            {
                "version": "1.8.1.9",
                "changes": [
                    "移除 积分获取",
                    "更新 部份依赖"
                ]
            },
            {
                "version": "1.8.1.8",
                "changes": [
                    "更新 校园网状态监控"
                ]
            },
            {
                "version": "1.8.1.7",
                "changes": [
                    "增加 点击小组件标题进入应用"
                ]
            },
            {
                "version": "1.8.1.6",
                "changes": [
                    "更新 体育场馆预订、研究生系统、图书借阅、四六级查询、照片采集、机构知识库、自助打印、资源预约、大工头条、读者入馆培训、试剂耗材采购",
                    "移除 图书借阅首页卡片",
                    "增加 消息中心首页卡片"
                ]
            },
            {
                "version": "1.8.1.5",
                "changes": [
                    "修复 全应用下拉菜单不同dpi下缩放异常的问题"
                ]
            },
            {
                "version": "1.8.1.4",
                "changes": [
                    "修复 礼物接收状态显示问题"
                ]
            },
            {
                "version": "1.8.1.3",
                "changes": [
                    "增加 兑换礼物后弹出兑换细则页面",
                    "增加 兑换记录可以点击记录进入兑换细则界面",
                    "增加 礼物兑换相关介绍自动更新"
                ]
            },
            {
                "version": "1.8.1.2",
                "changes": [
                    "修复 玉兰卡中银联和支付宝支付回调页面脚本执行问题",
                    "修复 首页轮播空链接可以点击的问题"
                ]
            },
            {
                "version": "1.8.1.1",
                "changes": [
                    "修复 积分排行榜头像渲染问题",
                    "优化 应用中心搜索范围",
                    "优化 后台网络交互"
                ]
            },
            {
                "version": "1.8.0.0",
                "changes": [
                    "新增 积分换礼兑换功能",
                    "新增 礼物兑换撤销功能",
                    "优化 礼物详情页面显示",
                    "优化 主页轮播比例"
                ]
            },
            {
                "version": "1.7.6.3",
                "changes": [
                    "优化 课表微件体验"
                ]
            },
            {
                "version": "1.7.5.1",
                "changes": [
                    "新增 应用数据动态更新功能"
                ]
            },
            {
                "version": "1.7.5.0",
                "changes": [
                    "更新 开发区体育场馆预约",
                    "更新 试剂耗材采购"
                ]
            },
            {
                "version": "1.7.4.3",
                "changes": [
                    "优化 心理测评",
                    "优化 校园网登录",
                    "优化 校园网注销"
                ]
            },
            {
                "version": "1.7.4.2",
                "changes": [
                    "更新 心理测评"
                ]
            },
            {
                "version": "1.7.4.1",
                "changes": [
                    "更新 新版开发区校区校园网认证功能",
                    "更新 新版开发区校区校园网自服务页面"
                ]
            },
            {
                "version": "1.7.3.5",
                "changes": [
                    "修复 Webview内无法实时获取摄像头画面的问题",
                    "修复 Webview内无法实时获取地理位置信息的问题"
                ]
            },
            {
                "version": "1.7.3.4",
                "changes": [
                    "修复 非个推通道通知点击消息栏通知不更新已读状态的问题",
                    "修复 消息更新已读状态后主界面未读消息数目不刷新的问题",
                    "更新 自助打印应用地址，使用更稳定",
                    "优化 播放视频时的全屏执行"
                ]
            },
            {
                "version": "1.7.3.3",
                "changes": [
                    "修复 一些已知的问题",
                    "优化 扫码功能"
                ]
            },
            {
                "version": "1.7.3.2",
                "changes": [
                    "修复 快捷方式中扫码等操作无法返回原页面的问题"
                ]
            },
            {
                "version": "1.7.3.1",
                "changes": [
                    "新增 家长绑定功能（测试中不一定稳定）",
                    "新增 消息记录管理功能"
                ]
            },
            {
                "version": "1.7.2.6",
                "changes": [
                    "修复 消息标题问题"
                ]
            },
            {
                "version": "1.7.2.5",
                "changes": [
                    "优化 版本兼容",
                    "优化 自动登录协议栈"
                ]
            },
            {
                "version": "1.7.2.4",
                "changes": [
                    "修复 Android12由于PendingIntent新特性导致的崩溃问题"
                ]
            },
            {
                "version": "1.7.2.3",
                "changes": [
                    "新增 通知栏校园网手动连接/注销/打开自服务功能",
                    "修复 调整校园网检测粒度为Detailed state",
                    "优化 UI"
                ]
            },
            {
                "version": "1.7.2.2",
                "changes": [
                    "修复 开发区校园网自服务地址错误的问题",
                    "优化 应用内消息推送消息通知处理和数据库未读消息判断",
                    "优化 UI"
                ]
            },
            {
                "version": "1.7.2.1",
                "changes": [
                    "修复 大工教务更多无法点击的问题",
                    "优化 校园网自动登录通知栏提示",
                    "优化 UI"
                ]
            },
            {
                "version": "1.7.1.5",
                "changes": [
                    "新增 大工教务手机版",
                    "优化 忽略更新的功能"
                ]
            },
            {
                "version": "1.7.1.3",
                "changes": [
                    "优化 界面UI",
                    "优化 首页卡片排序互动体验"
                ]
            },
            {
                "version": "1.7.1.2",
                "changes": [
                    "增加 评论学校原有APP的功能",
                    "优化 ToastUI",
                    "优化 后端逻辑"
                ]
            },
            {
                "version": "1.7.1.0",
                "changes": [
                    "新增 DUTer建言",
                    "新增 安全准入考试",
                    "优化 配置数据结构，为后续更新做准备",
                    "优化 不同推送渠道获得的重复消息重复显示的问题",
                    "优化 浏览器加载动画"
                ]
            },
            {
                "version": "1.7.0.6",
                "changes": [
                    "更新 调查问卷系统",
                    "修复 浏览器标题溢出"
                ]
            },
            {
                "version": "1.7.0.5",
                "changes": [
                    "优化 内置浏览器地址显示",
                    "修复 应用中心错误重置搜索框"
                ]
            },
            {
                "version": "1.7.0.3",
                "changes": [
                    "升级 我赞赞我吐槽为青年之家",
                    "新增 DUTer建言",
                    "新增 安全准入考试",
                    "优化 配置数据结构，为后续更新做准备",
                    "优化 不同推送渠道获得的重复消息重复显示的问题",
                    "优化 浏览器加载动画"
                ]
            },
            {
                "version": "1.7.0.2",
                "changes": [
                    "优化 办事大厅校外访问",
                    "优化 内置浏览器界面UI"
                ]
            },
            {
                "version": "1.7.0.1",
                "changes": [
                    "修复 一个服务大厅可能导致的切换深色模式的崩溃问题",
                    "修复 一个导致下载崩溃的问题",
                    "修复 一个导致首页头图加载失败的问题",
                    "修复 一个转换横竖屏网页不重新加载的问题",
                    "新增 首页卡片功能",
                    "新增 首页卡片管理界面",
                    "新增 首页卡片排序界面",
                    "新增 首页右上角增加管理卡片选项",
                    "新增 比原版增加的首页卡片单独刷新功能",
                    "新增 课表数据（微件和首页卡片）自动去除",
                    "修改 桌面小组件预览图，替换老旧的i大工默认图片",
                    "优化 网络通信",
                    "优化 分数获取",
                    "优化 日志记录",
                    "优化 崩溃记录"
                ]
            },
            {
                "version": "1.6.9.7",
                "changes": [
                    "修复 一个通知界面切换深色模式导致的空指针崩溃问题"
                ]
            },
            {
                "version": "1.6.9.6",
                "changes": [
                    "修复 一个导致通知图片显示错误的问题",
                    "修复 一个导致通知内容滚动后消失的问题"
                ]
            },
            {
                "version": "1.6.9.5",
                "changes": [
                    "修复 一个导致通知无法点击的问题",
                    "修复 图书馆预约404的问题"
                ]
            },
            {
                "version": "1.6.9.4",
                "changes": [
                    "移除 应用：自助打印平台",
                    "新增 应用：图书馆资源列表"
                ]
            },
            {
                "version": "1.6.9",
                "changes": [
                    "修复 一个导致json序列化报错的问题",
                    "修复 官方版本电费缴费自动跳转失败的问题",
                    "优化 部分应用界面默认方向",
                    "新增 应用：VPN客户端申请",
                    "新增 应用：图书馆读者入馆培训",
                    "新增 应用：网费缴费（三校区通用）",
                    "新增 应用：网上意见箱",
                    "新增 应用：大工云盘",
                    "新增 应用：自助打印平台"
                ]
            },
            {
                "version": "1.6.8",
                "changes": [
                    "修复 一个H5拉起扫码时导致拉起新界面后原界面cookie失效的问题",
                    "优化 二维码扫码界面，支持开关手电筒和相册扫描，增加条形码扫描（测试功能）",
                    "优化 登陆界面允许自动填充"
                ]
            },
            {
                "version": "1.6.7",
                "changes": [
                    "修复 下载文件读写问题",
                    "优化 消息通知"
                ]
            },
            {
                "version": "1.6.6",
                "changes": [
                    "优化 Web下载",
                    "修复 已知问题"
                ]
            },
            {
                "version": "1.6.5",
                "changes": [
                    "修复 通知解码问题",
                    "调整 页面旋转机制"
                ]
            },
            {
                "version": "1.6.4",
                "changes": [
                    "修复 原官版i大工打不开的APP（例：图书馆预约）",
                    "调整 一些原官版i大工仅校内访问的可以校外访问了"
                ]
            },
            {
                "version": "1.6.3",
                "changes": [
                    "优化 内容点击互动效果"
                ]
            },
            {
                "version": "1.6.2",
                "changes": [
                    "优化 搜索框UI",
                    "新增 主界面左上角全局搜索按钮"
                ]
            },
            {
                "version": "1.6.0",
                "changes": [
                    "修复 浏览器分享时无法返回本应用的问题",
                    "修复 浏览器分享时截图不全的问题",
                    "新增 保存浏览器页面截图功能",
                    "新增 分享页面链接功能",
                    "优化 页面分享和保存时生成的截图样式"
                ]
            },
            {
                "version": "1.5.8",
                "changes": [
                    "修复 多处内存泄漏问题",
                    "修复 数据处理问题",
                    "修复 数据库结构问题",
                    "修复 API扫码认证问题",
                    "优化 后端交互逻辑"
                ]
            },
            {
                "version": "1.5.4",
                "changes": [
                    "修复 消息间距问题",
                    "修复 通知消息接受问题",
                    "优化 后端逻辑"
                ]
            },
            {
                "version": "1.5.3",
                "changes": [
                    "修复 本地消息通知广播接收异常的问题"
                ]
            },
            {
                "version": "1.5.2",
                "changes": [
                    "增加 日志记录功能",
                    "增加 崩溃捕获功能",
                    "增加 服务界面内可固定服务到桌面",
                    "优化 通知逻辑",
                    "优化 通信稳定性"
                ]
            },
            {
                "version": "1.5.0",
                "changes": [
                    "增加 桌面应用微件",
                    "增加 长按快捷方式",
                    "修复 可能存在的数据库问题"
                ]
            },
            {
                "version": "1.4.6",
                "changes": [
                    "优化 权限申请流程"
                ]
            },
            {
                "version": "1.4.5",
                "changes": [
                    "修复 消息间距问题",
                    "修复 通知消息接受问题",
                    "优化 后端逻辑"
                ]
            },
            {
                "version": "1.4.3",
                "changes": [
                    "增加 接入浏览器内置javainterface，实现常用接口",
                    "优化 后端逻辑"
                ]
            },
            {
                "version": "1.4.0",
                "changes": [
                    "增加 初步接入浏览器内置javainterface",
                    "增加 小组件（尚未完成）",
                    "增加 扫一扫界面",
                    "优化 后端逻辑"
                ]
            },
            {
                "version": "1.3.5",
                "changes": [
                    "增加 主界面右上角加号弹窗",
                    "增加 我的 头像点击单独大图查看界面",
                    "增加 虚拟卡界面",
                    "优化 后端逻辑",
                    "优化 性能"
                ]
            },
            {
                "version": "1.3.1",
                "changes": [
                    "丰富功能"
                ]
            },
            {
                "version": "1.2.5",
                "changes": [
                    "优化储存结构",
                    "实现大部分后端交互",
                    "实现消息接收",
                    "实现个人信息修改",
                    "实现校园网登录监测框架"
                ]
            },
            {
                "version": "1.1",
                "changes": [
                    "实现自动检查更新",
                    "优化程序依赖",
                    "优化数据结构"
                ]
            },
            {
                "version": "1.0",
                "changes": [
                    "实现基本服务大厅功能",
                    "实现大部分UI界面",
                    "实现对于特殊页面的自动处理"
                ]
            }
        ]
    }
</script>

<!-- JavaScript 动态生成日志内容 -->
<script>
    const data = JSON.parse(document.getElementById('json-data').textContent);
    const logsContainer = document.getElementById('logs');

    data.logs.forEach(item => {
      const block = document.createElement('div');
      block.className = 'version-block';

      const title = document.createElement('div');
      title.className = 'version-title';
      title.textContent = '版本 ' + item.version;
      block.appendChild(title);

      const ul = document.createElement('ul');
      ul.className = 'log-list';
      item.changes.forEach(change => {
        const li = document.createElement('li');
        li.textContent = change;
        ul.appendChild(li);
      });
      block.appendChild(ul);
      logsContainer.appendChild(block);
    });
</script>
</body>
</html>
